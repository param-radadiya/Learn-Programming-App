<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Mangal;
	panose-1:2 4 5 3 5 2 3 3 2 2;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Book Antiqua";
	panose-1:2 4 6 2 5 3 5 3 3 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:36.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:36.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:7.1pt 72.0pt 72.0pt 72.0pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=EN-GB>

<div class=WordSection1>

<h1 align=center style='text-align:center;line-height:150%'>26. ERROR HANDLING</h1>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>As such, C programming does not
provide direct support for error handling but being a sytem programming
language, it provides you access at lower level in the form of return values.
Most of the C or even Unix function calls return -1 or NULL in case of any
error and set an error code <b>errno</b>. It is set as a global variable and
indicates an error occurred during any function call. You can find various
error codes defined in &lt;error.h&gt; header file. </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>So a C programmer can check the
returned values and can take appropriate action depending on the return value.
It is a good practice to set errno to 0 at the time of initializing a program.
A value of 0 indicates that there is no error in the program. </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:150%'><b><span style='font-size:18.0pt;
line-height:150%;font-family:"Book Antiqua",serif;color:red'>errno,
perror(),and strerror()</span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>The C programming language provides <b>perror()
</b>and <b>strerror() </b>functions which can be used to display the text
message associated with <b>errno</b>. </span></p>

<p class=MsoListParagraphCxSpFirst style='text-align:justify;text-indent:-18.0pt;
line-height:150%'><span style='font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Book Antiqua",serif'>The <b>perror() </b>function displays
the string you pass to it, followed by a colon, a space, and then the textual
representation of the current errno value. </span></p>

<p class=MsoListParagraphCxSpLast style='text-align:justify;text-indent:-18.0pt;
line-height:150%'><span style='font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
style='font-family:"Book Antiqua",serif'>The <b>strerror() </b>function, which
returns a pointer to the textual representation of the current errno value. </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>Let's try to simulate an error
condition and try to open a file which does not exist. Here I'm using both the
functions to show the usage, but you can use one or more ways of printing your
errors. Second important point to note is that you should use <b>stderr </b>file
stream to output all the errors. </span></p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#1F3864'>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>#include &lt;stdio.h&gt; </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>#include &lt;errno.h&gt; </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>#include &lt;string.h&gt; </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>extern int errno ; </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>int main () </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>{ </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>FILE * pf; </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>int errnum;</span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>pf = fopen
(&quot;unexist.txt&quot;, &quot;rb&quot;); </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>if (pf == NULL) </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>{ </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>errnum = errno; </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>fprintf(stderr,
&quot;Value of errno: %d\n&quot;, errno); </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>perror(&quot;Error printed
by perror&quot;); </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>fprintf(stderr,
&quot;Error opening file: %s\n&quot;, strerror( errnum )); </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>} </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>else </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>{ </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>fclose (pf); </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>} </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>return 0; </span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-align:
justify;line-height:150%;background:#1F3864;border:none;padding:0cm'><span
style='font-family:"Book Antiqua",serif;color:white'>} </span></p>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>When the above code is compiled and
executed, it produces the following result: </span></p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=MsoNormal style='text-align:justify;line-height:150%;border:none;
padding:0cm'><span style='font-family:"Book Antiqua",serif;color:#00B0F0'>Value
of errno: 2 </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;border:none;
padding:0cm'><span style='font-family:"Book Antiqua",serif;color:#00B0F0'>Error
printed by perror: No such file or directory </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;border:none;
padding:0cm'><span style='font-family:"Book Antiqua",serif;color:#00B0F0'>Error
opening file: No such file or directory </span></p>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:150%'><b><span style='font-size:18.0pt;
line-height:150%;font-family:"Book Antiqua",serif;color:red'>Divide by Zero
Errors</span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>It is a common problem that at the
time of dividing any number, programmers do not check if a divisor is zero and
finally it creates a runtime error. </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>The code below fixes this by checking
if the divisor is zero before dividing: </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#1F3864'>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>#include &lt;stdio.h&gt; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>#include &lt;stdlib.h&gt; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>main() </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>{ </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>int dividend = 20; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>int divisor = 0; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>int quotient; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>if( divisor == 0){</span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>fprintf(stderr, &quot;Division by zero! Exiting...\n&quot;); </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>exit(-1); </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>} </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>quotient = dividend / divisor; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>fprintf(stderr, &quot;Value of quotient : %d\n&quot;, quotient ); </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>exit(0); </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>} </span></p>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>When the above code is compiled and
executed, it produces the following result: </span></p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=MsoNormal style='text-align:justify;line-height:150%;border:none;
padding:0cm'><span style='font-family:"Book Antiqua",serif;color:#00B0F0'>Division
by zero! Exiting... </span></p>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%'><b><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></b></p>

<p class=MsoNormal style='line-height:150%'><b><span style='font-size:18.0pt;
line-height:150%;font-family:"Book Antiqua",serif;color:red'>Program Exit
Status</span></b></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>It is a common practice to exit with a
value of EXIT_SUCCESS in case of program coming out after a successful operation.
Here, EXIT_SUCCESS is a macro and it is defined as 0. </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>If you have an error condition in your
program and you are coming out then you should exit with a status EXIT_FAILURE
which is defined as -1. So let's write above program as follows: </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#1F3864'>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>#include &lt;stdio.h&gt; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>#include &lt;stdlib.h&gt; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>main() </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>{ </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>int dividend = 20; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>int divisor = 5; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>int quotient; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>if( divisor == 0){ </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>fprintf(stderr, &quot;Division by zero! Exiting...\n&quot;); </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>exit(EXIT_FAILURE); </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>} </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>quotient = dividend / divisor; </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>fprintf(stderr, &quot;Value of quotient : %d\n&quot;, quotient );</span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>exit(EXIT_SUCCESS); </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%;background:#1F3864;
border:none;padding:0cm'><span style='font-family:"Book Antiqua",serif;
color:white'>} </span></p>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>When the above code is compiled and
executed, it produces the following result: </span></p>

<p class=MsoNormal style='text-align:justify;line-height:150%'><span
style='font-family:"Book Antiqua",serif'>&nbsp;</span></p>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt'>

<p class=MsoNormal style='text-align:justify;line-height:150%;border:none;
padding:0cm'><span style='font-family:"Book Antiqua",serif;color:#00B0F0'>Value
of quotient : 4</span></p>

</div>

<p class=MsoNormal style='text-align:justify;line-height:150%'>&nbsp;</p>

</div>

</body>

</html>
